<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Sirui Li">
    <meta name="generator" content="Hugo 0.83.1">
    <title>Learning-to-configure-separators</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/album/">



    <!-- Bootstrap core CSS -->
<link href="bootstrap.min.css" rel="stylesheet">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      a { text-decoration: none; }
    </style>


  </head>
  <body>
<main>

  <section class="py-5 container">
    <div class="row py-lg-5">
      <div class="col-lg-9 col-md-10 mx-auto text-center">
        <h2 class="fw-light">Learning to Configure Separators in Branch-and-Cut</h2>
        <br>
        <p class="lead text-muted"> Sirui Li*<sup>1</sup>, Wenbin Ouyang* <sup>1</sup>,  Max B. Paulus<sup>2</sup>, Cathy Wu<sup>1</sup></p>
        <p class="lead text-muted"><sup>1</sup>MIT&nbsp;&nbsp;&nbsp;&nbsp;<sup>2</sup>ETH Zürich</p>
        <p class="lead text-muted"><b>NeurIPS 2023</b></p>
        <p class="lead text-muted"><a href="https://arxiv.org/abs/2311.05650">ArXiv</a> | <a href="https://openreview.net/forum?id=gf5xJVQS5p">OpenReview</a> | <a href="https://github.com/mit-wu-lab/learning-to-configure-separators">Github</a></p>
      </div>
      <div class="col-lg-7 col-md-9 mx-auto text-center">
      <figure>
      <img src="img/task.png"  class="img-fluid" alt="...">
      <figcaption class="text-muted"><b>Figure 1: The Separator Configuration Task.</b></figcaption>
      </figure>
      </div>
      <div class="col-lg-8 col-md-10 mx-auto">
        <p>
          Cutting planes are crucial in solving mixed integer linear programs (MILP) as they facilitate bound improvements on the optimal solution. Modern MILP solvers rely on a variety of separators to generate a diverse set of cutting planes by invoking the separators frequently during the solving process. This work identifies that MILP solvers can be drastically accelerated by appropriately selecting separators to activate. As the combinatorial separator selection space imposes challenges for machine learning, we <i>learn to separate</i> by proposing a novel data-driven strategy to restrict the selection space and a learning-guided algorithm on the restricted space. Our method predicts instance-aware separator configurations which can dynamically adapt during the solve, effectively accelerating the open source MILP solver SCIP by improving the relative solve time up to 72% and 37% on synthetic and real-world MILP benchmarks. Our work complements recent work on learning to select cutting planes and highlights the importance of separator management.
          <div class="card">
          <div class="card-header">
            Citation
          </div>
          <div class="card-body">
            <pre>
    @inproceedings{li2023learning,
        title={Learning to Configure Separators in Branch-and-Bound},
        author={Sirui Li and Wenbin Ouyang and Max B. Paulus and Cathy Wu},
        booktitle={Thirty-Seventh Conference on Neural Information Processing Systems},
        year={2023},
    }</pre>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr class="col-lg-8 col-md-10 mx-auto">

  <div class="album py-5">   
  <div class="container">
    <div class="col-lg-8 col-md-10 mx-auto">
      <h3>Algorithm Pipeline: L2Sep</h3><br>
    <figure>
      <img src="img/pipeline.png"  class="img-fluid" alt="...">
      <figcaption class="text-muted text-center"><b>Figure 2: The proposed learning method L2Sep.</b></figcaption> 
       <!-- (1) first constructs a subset A of high quality separator configurations for the MILP, and   (2) we then learn a network to select a configuration among A. -->
    </figure>
        <p><b>(1) Data-driven algorithm to find a restricted separator configuration subspace A:</b>
        We select A from the full configuration space by choosing configurations that are <i>effective but without being redundant</i>. We devise a greedy algorithm augmented by a filtering strategy to balance training performance v.s. generalization.<br>
        <i>** Note that Each element of the subset A is a combination of separators (e.g., Gomory, Clique) to activate; we call this a configuration and it can be thought of as a binary vector of length the number of separators (17 for SCIP).</i> 
      </p>
        <p> <b>(2) Learning to configure separators within A:</b> We perform separator configurations in <i>k</i> different separation rounds, while holding the configuration fixed between rounds. We apply a forward training algorithm and learn to configure at each round with the Neural UCB algorithm. We use a Graph Neural Network (GNN) to estimate the relative time improvement (reward) of applying a configuration s (arm) within A to the MILP instance x (context) from the default separator configuration of the MILP solver.</p>
        <!-- <div class="col-lg-8 container justify-content-center align-items-center justify-content-center"><img src="img/architecture.png"  class="img-fluid" alt="..."></div> -->
      </div>

      <div class="col-lg-8 col-md-10 mx-auto">
        <figure>
        <img src="img/architecture.png"  class="img-fluid" alt="...">
        <figcaption class="text-muted text-center"><b>Figure 3: the GNN architecture.</b></figcaption>
        <!-- <img src="img/architecture.png"  class="img-fluid" alt="..."> -->
      </figure>
      </div>
    </div>
  </div>

<!-- 
  <div class="album py-5">
    <div class="container">
      <div class="col-lg-8 col-md-10 mx-auto">
        <h3>Model Architecture</h3><br>
        <p></p>
        </div>
      </div>
    </div>
  </div> -->
  <hr class="col-lg-8 col-md-10 mx-auto">

  <div class="album py-5">
  <div class="container">
    <div class="col-lg-8 col-md-10 mx-auto">
      <h3>Experimental Results</h3><br>
      <!-- <h4>Experimental Setup</h4>
      <div class="col-lg-8 col-md-10 mx-auto text-center">
        <div class="row"><img src="img/exp_setup_2.png"  class="img-fluid" alt="..."></div><br>
      </div>
      <div  class="col-lg-8 col-md-10 mx-auto text-center">  
        <div class="row"><img src="img/exp_setup_1.png"  class="img-fluid" alt="..."></div>
      </div>
      <br> -->

      <h4>L2Sep achieves 30%-to-70% speedup on a variety of MILP datasets</h4>
      <div class="col-lg-8 col-md-12 mx-auto text-center">
        <figure>
          <img src="img/synthetic.png"  class="img-fluid" alt="...">
          <figcaption class="text-muted"><b>Table 1: The relative time improvement of L2Sep over the SCIP solver</b></figcaption>
        </figure>
        <!-- <div class="row"><img src="img/synthetic.png"  class="img-fluid" alt="..."></div> -->
      </div>
      <!-- <div class="col-lg-8 col-md-12 mx-auto">
        <div class="row"><img src="img/realworld.png"  class="img-fluid" alt="..."></div>
      </div> -->
      <br>

      <h4>L2Sep accelerates state-of-the-art MILP solver Gurobi</h4>
      <div class="col-lg-8 col-md-12 mx-auto text-center">
        <figure>
          <img src="img/Gurobi.png"  class="img-fluid" alt="...">
          <figcaption class="text-muted"><b>Table 2: The relative time improvement of L2Sep over Gurobi </b></figcaption>
        </figure>
        <!-- <div class="row"><img src="img/Gurobi.png"  class="img-fluid" alt="..."></div> -->
      </div>
      <br>

      <h4>L2Sep recovers effective separators from literature</h4>
      <div class="col-lg-12 col-md-12 mx-auto text-center">
        <figure>
          <img src="img/interpretability.png"  class="img-fluid" alt="...">
          <figcaption class="text-muted"><b>Figure 4: Bin Packing Interpretation. </b></figcaption>
        </figure>
      </div>
      <div class="col-lg-12 col-md-12 mx-auto">
        <p>
          <b>(Left / Heatmap)</b> Each row is a separator, and each column
          is a configuration in our restricted space. Green and yellow cells indicate activated and deactivated
          separators by each configuration, respectively. 
        </p>
        <p>
          <b>(Middle / Histogram Left Column)</b> The frequency of
          each configuration selected by our learned model at the <i>1st</i> and <i>2nd</i> config. update on the original test
          set with 66 bins. The config. indices in the heatmap and the histograms align. 
        </p>
        <p>
          <b>(Right / Histogram Right Column)</b> The
          frequency of each configuration selected at the 2nd config. update (the <i>1st</i> update has similar results)
          when we gradually decrease the number of bins (bottom: 33 bins; top 16 bins). We observe the
          prevalence of FlowCover and Clique decreased and increased, respectively.
        </p>
      </div>
      <br>

      <h4>L2Sep is effective under an alternative objective: relative gap improvement</h4>
      <div class="col-lg-11 col-md-12 mx-auto">
        <figure>
          <img src="img/relative_gap_improv.png"  class="img-fluid" alt="...">
          <figcaption class="text-muted"><b>Figure 5: Distributions of absolute primal-dual gaps of L2Sep and SCIP default on Load Balancing
            and Combinatorial Auction </b></figcaption>
        </figure>
        <!-- <div class="row"><img src="img/relative_gap_improv.png"  class="img-fluid" alt="..."></div> -->
      </div>
      <br>

      <!-- <h4> The immediate and multi-step effect of separator configuration in the B&C process</h4>
      <div class="col-lg-8 col-md-12 mx-auto">
        <div class="row"><img src="img/immediate_effect.png"  class="img-fluid" alt="..."></div>
      </div>
      <br>
      <div class="col-lg-8 col-md-12 mx-auto">
        <div class="row"><img src="img/multi-step_effect.png"  class="img-fluid" alt="..."></div>
      </div>
      <div class="col-lg-11 col-md-12 mx-auto">
        <div class="row"><img src="img/primal_dual_curve.png"  class="img-fluid" alt="..."></div>
      </div>
      <br> -->
     
      <!-- <h4>Considered Variations</h4>
      <p>We demonstrate the robustness of our method across many experimental variations of problem properties and solution properties.</p>
    </div>
    <div class="col-lg-10 col-md-12 mx-auto">
      <table class="table table-bordered">
  <thead>
    <tr class="table-dark">
      <th scope="col">Configuration</th>
      <th scope="col">Considered Variations</th>
      <th scope="col">Summary Figure</th>
    </tr>
  </thead>
  <tbody>
    <tr class="table-active">
    <td scope="row" colspan="3"><b>Problem Properties</b></td>
    </tr>
    <tr>
      <th scope="row"># Cities (N)</th>
      <td>500; 1000; <b>2000</b>; 3000</td>
      <td><img src="img/variation_N.png"  class="img-fluid" alt="..."></td>
    </tr>
    <tr>
      <th scope="row">City Distribution</th>
      <td><b>Uniform</b>; Clustered; Real World</td>
      <td><img src="img/variation_distribution.png"  class="img-fluid" alt="..."></td>
    </tr>
    <tr>
      <th scope="row">Additional Constraints</th>
      <td><b>None (CVRP)</b>; Time Windows (CVRPTW); Pickup+Delivery (VRPMPD)</td>
      <td><img src="img/variation_constraint.png"  class="img-fluid" alt="..."></td>
    </tr>
    <tr class="table-active">
    <td scope="row" colspan="3"><b>Solution Properties</b></td>
    </tr>
    <tr>
      <th scope="row">Initial Solution</th>
      <td><b>Partitioned LKH</b>; Randomized</td>
      <td><img src="img/variation_initialization.png"  class="img-fluid" alt="..."></td>
    </tr>
    <tr>
      <th scope="row">Subproblem Size (k)</th>
      <td><b>k=10</b>; k=5 routes per subproblem</td>
      <td><img src="img/variation_k.png"  class="img-fluid" alt="..."></td>
    </tr>
    <tr>
      <th scope="row">Subsolver</th>
      <td><b>LKH-3</b>; HGS</td>
      <td><img src="img/variation_solver.png"  class="img-fluid" alt="..."></td>
    </tr>
  </tbody>
  <caption>
    <p><b>Bolded variations are assumed unless otherwise stated.</b></p>
  </caption>
</table>
      </div>
    </div>
  </div> -->
</section>

  <div class="album py-5 bg-light">
  <div class="container">
    <div class="col-lg-8 col-md-10 mx-auto">
      <h3>Acknowledgement</h3><br>
      <p>This work was supported by a gift from Mathworks, the National Science Foundation (NSF) CAREER award (#2239566), the MIT
  Amazon Science Hub, and MIT’s Research Support Committee. The authors acknowledge the MIT
  SuperCloud and Lincoln Laboratory Supercomputing Center for providing HPC resources that have
  contributed to the research results reported within this paper. The authors would like to thank Mark Velednitsky and Alexandre Jacquillat for insightful discussions
  regarding an interpretative analysis of the learned model. 
</p>
      </div>
    </div>
  </div>

</main>


    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

  </body>
</html>
